<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="5 Working with Data | Computing Concepts for Public Health Researchers" />
<meta property="og:type" content="book" />

<meta property="og:description" content="Resources and tutorials for R and SAS analysis geared toward public health students." />
<meta name="github-repo" content="jrgant/StatsCompPH-BrownSPH" />

<meta name="author" content="Jason Gantenberg, PhD, MPH" />


<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: { equationNumbers: { autoNumber: "AMS" } }
});
</script>
  <script src="/usr/share/javascript/mathjax/tex-mml-chtml.js" type="text/javascript"></script>

<meta name="description" content="Resources and tutorials for R and SAS analysis geared toward public health students.">

<title>5 Working with Data | Computing Concepts for Public Health Researchers</title>

<link href="libs/tufte-css-2015.12.29/tufte-fonts.css" rel="stylesheet" />
<link href="libs/tufte-css-2015.12.29/tufte-background.css" rel="stylesheet" />
<link href="libs/tufte-css-2015.12.29/tufte-italics.css" rel="stylesheet" />
<link href="libs/tufte-css-2015.12.29/tufte.css" rel="stylesheet" />
<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.10.0/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<script src="libs/jquery-3.5.1/jquery.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.5.1/plotly-latest.min.js"></script>
<!-- Import LESS library -->
<link rel="stylesheet/less" type="text/css" href="styles/switched-dev.less" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/less.js/3.9.0/less.min.js"></script>

<!-- Import custom element definitions -->
<script src="styles/custom-elements.js"></script>

<!-- <link rel="stylesheet" href="styles/switched-dev.css" /> -->

<!-- MathJax -->
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>




</head>

<body>


<span class="docinfo">
    <img src="images/github-brands.svg" /> <br />
    <a href="https://github.com/jrgant/StatsCompPH-BrownSPH" target="blank">View on GitHub</a> <br />
    <a href="https://github.com/jrgant/StatsCompPH-BrownSPH/issues" target="blank">File an issue</a>
</span>

<div class="row">
<div class="col-sm-12">
<div id="TOC">
<ul>
<li class="has-sub"><a href="index.html#learning-objectives"><span class="toc-section-number">1</span> Learning Objectives</a>
<ul>
<li><a href="index.html#main-objectives"><span class="toc-section-number">1.1</span> Main objectives</a></li>
<li><a href="index.html#acknowledgements"><span class="toc-section-number">1.2</span> Acknowledgements</a></li>
</ul></li>
<li class="has-sub"><a href="startup.html#startup"><span class="toc-section-number">2</span> Getting Started</a>
<ul>
<li><a href="startup.html#getting-started-with-r"><span class="toc-section-number">2.1</span> Getting Started with R</a></li>
<li><a href="startup.html#getting-started-with-sas"><span class="toc-section-number">2.2</span> Getting Started with SAS</a></li>
</ul></li>
<li class="has-sub"><a href="data-structures.html#data-structures"><span class="toc-section-number">3</span> Data Structures</a>
<ul>
<li><a href="data-structures.html#major-differences-between-r-and-sas"><span class="toc-section-number">3.1</span> Major Differences Between R and SAS</a></li>
<li><a href="data-structures.html#r-object-and-value-classes"><span class="toc-section-number">3.2</span> R: Object and Value Classes</a></li>
</ul></li>
<li class="has-sub"><a href="importing-and-exporting-data.html#importing-and-exporting-data"><span class="toc-section-number">4</span> Importing and Exporting Data</a>
<ul>
<li class="has-sub"><a href="importing-and-exporting-data.html#r-reading-and-writing-data"><span class="toc-section-number">4.1</span> R: Reading and Writing Data</a>
<ul>
<li><a href="importing-and-exporting-data.html#reading-data"><span class="toc-section-number">4.1.1</span> Reading Data</a></li>
<li><a href="importing-and-exporting-data.html#writing-data"><span class="toc-section-number">4.1.2</span> Writing Data</a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="working-with-data.html#working-with-data"><span class="toc-section-number">5</span> Working with Data</a>
<ul>
<li><a href="working-with-data.html#objects-in-r"><span class="toc-section-number">5.1</span> Objects in R</a></li>
<li class="has-sub"><a href="working-with-data.html#more-complex-objects"><span class="toc-section-number">5.2</span> More Complex Objects</a>
<ul>
<li><a href="working-with-data.html#vectors"><span class="toc-section-number">5.2.1</span> Vectors</a></li>
<li><a href="working-with-data.html#matrices"><span class="toc-section-number">5.2.2</span> Matrices</a></li>
<li><a href="working-with-data.html#lists"><span class="toc-section-number">5.2.3</span> Lists</a></li>
<li><a href="working-with-data.html#data-frames"><span class="toc-section-number">5.2.4</span> Data Frames</a></li>
<li><a href="working-with-data.html#other-object-classes"><span class="toc-section-number">5.2.5</span> Other Object Classes</a></li>
</ul></li>
<li class="has-sub"><a href="working-with-data.html#conducting-operations-on-objects"><span class="toc-section-number">5.3</span> Conducting Operations on Objects</a>
<ul>
<li><a href="working-with-data.html#arithmetic-operations"><span class="toc-section-number">5.3.1</span> Arithmetic Operations</a></li>
<li><a href="working-with-data.html#logical-operations"><span class="toc-section-number">5.3.2</span> Logical Operations</a></li>
<li><a href="working-with-data.html#recycling"><span class="toc-section-number">5.3.3</span> Recycling</a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="statistical-analysis.html#statistical-analysis"><span class="toc-section-number">6</span> Statistical Analysis</a>
<ul>
<li class="has-sub"><a href="statistical-analysis.html#setup"><span class="toc-section-number">6.1</span> Setup</a>
<ul>
<li><a href="statistical-analysis.html#data"><span class="toc-section-number">6.1.1</span> Data</a></li>
<li><a href="statistical-analysis.html#nhefs-codebook"><span class="toc-section-number">6.1.2</span> NHEFS Codebook</a></li>
</ul></li>
<li><a href="statistical-analysis.html#exploratory-data-analysis"><span class="toc-section-number">6.2</span> Exploratory Data Analysis</a></li>
<li><a href="statistical-analysis.html#tabular-analysis"><span class="toc-section-number">6.3</span> Tabular Analysis</a></li>
<li class="has-sub"><a href="statistical-analysis.html#regression-models"><span class="toc-section-number">6.4</span> Regression Models</a>
<ul>
<li><a href="statistical-analysis.html#linear-regression"><span class="toc-section-number">6.4.1</span> Linear regression</a></li>
<li><a href="statistical-analysis.html#logistic-regression"><span class="toc-section-number">6.4.2</span> Logistic regression</a></li>
<li><a href="statistical-analysis.html#log-binomial-regression"><span class="toc-section-number">6.4.3</span> Log-binomial regression</a></li>
<li><a href="statistical-analysis.html#modified-poisson-regression"><span class="toc-section-number">6.4.4</span> Modified Poisson regression</a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="statistical-analysis-sas.html#statistical-analysis-sas"><span class="toc-section-number">7</span> Statistical Analysis (SAS)</a>
<ul>
<li class="has-sub"><a href="statistical-analysis-sas.html#setup-1"><span class="toc-section-number">7.1</span> Setup</a>
<ul>
<li><a href="statistical-analysis-sas.html#data-1"><span class="toc-section-number">7.1.1</span> Data</a></li>
<li><a href="statistical-analysis-sas.html#nhefs-codebook-1"><span class="toc-section-number">7.1.2</span> NHEFS Codebook</a></li>
</ul></li>
<li><a href="statistical-analysis-sas.html#exploratory-data-analysis-1"><span class="toc-section-number">7.2</span> Exploratory Data Analysis</a></li>
<li><a href="statistical-analysis-sas.html#tabular-analysis-1"><span class="toc-section-number">7.3</span> Tabular Analysis</a></li>
<li class="has-sub"><a href="statistical-analysis-sas.html#regression-models-1"><span class="toc-section-number">7.4</span> Regression Models</a>
<ul>
<li><a href="statistical-analysis-sas.html#linear-regression-1"><span class="toc-section-number">7.4.1</span> Linear regression</a></li>
<li><a href="statistical-analysis-sas.html#logistic-regression-1"><span class="toc-section-number">7.4.2</span> Logistic regression</a></li>
<li><a href="statistical-analysis-sas.html#log-binomial-regression-1"><span class="toc-section-number">7.4.3</span> Log-binomial regression</a></li>
<li><a href="statistical-analysis-sas.html#modified-poisson-regression-1"><span class="toc-section-number">7.4.4</span> Modified Poisson regression</a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="getting-comfortable-with-loops-and-logic.html#getting-comfortable-with-loops-and-logic"><span class="toc-section-number">8</span> Getting Comfortable with Loops and Logic</a>
<ul>
<li><a href="getting-comfortable-with-loops-and-logic.html#whats-a-loop"><span class="toc-section-number">8.1</span> What’s a Loop?</a></li>
<li class="has-sub"><a href="getting-comfortable-with-loops-and-logic.html#why-loop"><span class="toc-section-number">8.2</span> Why Loop?</a>
<ul>
<li><a href="getting-comfortable-with-loops-and-logic.html#curly-braces"><span class="toc-section-number">8.2.1</span> Curly Braces</a></li>
</ul></li>
<li class="has-sub"><a href="getting-comfortable-with-loops-and-logic.html#nested-loops-conditional-logic-and-reinventing-wheels"><span class="toc-section-number">8.3</span> Nested Loops, Conditional Logic, and Reinventing Wheels</a>
<ul>
<li><a href="getting-comfortable-with-loops-and-logic.html#standard-loop"><span class="toc-section-number">8.3.1</span> Standard Loop</a></li>
<li><a href="getting-comfortable-with-loops-and-logic.html#vectorized-loops"><span class="toc-section-number">8.3.2</span> Vectorized Loops</a></li>
<li><a href="getting-comfortable-with-loops-and-logic.html#nested-loops"><span class="toc-section-number">8.3.3</span> Nested Loops</a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="data-visualization.html#data-visualization"><span class="toc-section-number">9</span> Data Visualization</a>
<ul>
<li><a href="data-visualization.html#data-set"><span class="toc-section-number">9.1</span> Data set</a></li>
<li class="has-sub"><a href="data-visualization.html#base-r-examples"><span class="toc-section-number">9.2</span> Base R examples</a>
<ul>
<li><a href="data-visualization.html#boxplots"><span class="toc-section-number">9.2.1</span> Boxplots</a></li>
<li><a href="data-visualization.html#density-plots"><span class="toc-section-number">9.2.2</span> Density Plots</a></li>
<li><a href="data-visualization.html#scatterplots"><span class="toc-section-number">9.2.3</span> Scatterplots</a></li>
<li><a href="data-visualization.html#scatterplot-matrix"><span class="toc-section-number">9.2.4</span> Scatterplot Matrix</a></li>
<li><a href="data-visualization.html#histograms"><span class="toc-section-number">9.2.5</span> Histograms</a></li>
<li><a href="data-visualization.html#linear-regression-diagnostics"><span class="toc-section-number">9.2.6</span> Linear Regression Diagnostics</a></li>
</ul></li>
<li class="has-sub"><a href="data-visualization.html#ggplot2-examples"><span class="toc-section-number">9.3</span> ggplot2 Examples</a>
<ul>
<li><a href="data-visualization.html#boxplots-1"><span class="toc-section-number">9.3.1</span> Boxplots</a></li>
<li><a href="data-visualization.html#density-plots-1"><span class="toc-section-number">9.3.2</span> Density Plots</a></li>
<li><a href="data-visualization.html#scatterplots-1"><span class="toc-section-number">9.3.3</span> Scatterplots</a></li>
<li><a href="data-visualization.html#faceted-plots"><span class="toc-section-number">9.3.4</span> Faceted Plots</a></li>
<li><a href="data-visualization.html#bar-plots"><span class="toc-section-number">9.3.5</span> Bar Plots</a></li>
<li><a href="data-visualization.html#scatterplot-matrix-1"><span class="toc-section-number">9.3.6</span> Scatterplot Matrix</a></li>
</ul></li>
<li class="has-sub"><a href="data-visualization.html#special-topics"><span class="toc-section-number">9.4</span> Special Topics</a>
<ul>
<li><a href="data-visualization.html#image-formats"><span class="toc-section-number">9.4.1</span> Image Formats</a></li>
<li><a href="data-visualization.html#interactive-graphics"><span class="toc-section-number">9.4.2</span> Interactive Graphics</a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="functionalizing-code.html#functionalizing-code"><span class="toc-section-number">10</span> Functionalizing Code</a>
<ul>
<li><a href="functionalizing-code.html#simulate-data"><span class="toc-section-number">10.1</span> Simulate Data</a></li>
<li><a href="functionalizing-code.html#the-old-way"><span class="toc-section-number">10.2</span> The Old Way</a></li>
<li><a href="functionalizing-code.html#a-new-way-part-1"><span class="toc-section-number">10.3</span> A New Way, Part 1</a></li>
<li class="has-sub"><a href="functionalizing-code.html#a-new-way-part-2"><span class="toc-section-number">10.4</span> A New Way, Part 2</a>
<ul>
<li><a href="functionalizing-code.html#loop-method-1"><span class="toc-section-number">10.4.1</span> Loop Method 1</a></li>
<li><a href="functionalizing-code.html#loop-method-2"><span class="toc-section-number">10.4.2</span> Loop Method 2</a></li>
<li><a href="functionalizing-code.html#add-a-new-analysis"><span class="toc-section-number">10.4.3</span> Add a New Analysis</a></li>
</ul></li>
<li><a href="functionalizing-code.html#a-new-way-part-3"><span class="toc-section-number">10.5</span> A New Way, Part 3</a></li>
<li class="has-sub"><a href="functionalizing-code.html#approximate-in-sas"><span class="toc-section-number">10.6</span> Approximate in SAS</a>
<ul>
<li><a href="functionalizing-code.html#simulate-data-1"><span class="toc-section-number">10.6.1</span> Simulate Data</a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="resources.html#resources"><span class="toc-section-number">11</span> Resources</a>
<ul>
<li class="has-sub"><a href="resources.html#r"><span class="toc-section-number">11.1</span> R</a>
<ul>
<li><a href="resources.html#core-documentation"><span class="toc-section-number">11.1.1</span> Core Documentation</a></li>
<li><a href="resources.html#programming"><span class="toc-section-number">11.1.2</span> Programming</a></li>
<li><a href="resources.html#data-visualization-1"><span class="toc-section-number">11.1.3</span> Data Visualization</a></li>
<li><a href="resources.html#reproducible-research-and-version-control"><span class="toc-section-number">11.1.4</span> Reproducible Research and Version Control</a></li>
</ul></li>
<li class="has-sub"><a href="resources.html#sas"><span class="toc-section-number">11.2</span> SAS</a>
<ul>
<li><a href="resources.html#programming-and-core-documentation"><span class="toc-section-number">11.2.1</span> Programming and Core Documentation</a></li>
<li><a href="resources.html#reproducible-research"><span class="toc-section-number">11.2.2</span> Reproducible Research</a></li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
</div>
<div class="row">
<div class="col-sm-12">
<div id="working-with-data" class="section level1" number="5">
<h1><span class="header-section-number">5</span> Working with Data</h1>
<div id="objects-in-r" class="section level2" number="5.1">
<h2><span class="header-section-number">5.1</span> Objects in R</h2>
<p>The first thing to keep in mind when working in R is that, by default, all objects are stored in the global environment when you assign them. An object stored to the global environment will be accessible from anywhere in a project once assigned.</p>
<p>These objects can be any of the data types or structures we saw a couple of sections ago.</p>
<p><span class="marginnote">Note that we can also assign objects as so: <code>y = 10</code>. However, using the equal sign is generally not preferred because it is used to assign values to function arguments, too.</span></p>
<p>To begin, though, we’ll assign single values to several variables using <code>&lt;-</code>, known as the assignment operator. One important thing to keep in mind when working in R is that all names are <strong>case-sensitive</strong>, meaning that R considers <code>myvariable</code> and <code>myVariable</code> to be two different objects.</p>
<p><span class="marginnote">Can you name the data types for each object we just assigned? Write 3 more lines and wrap each object name in a <code>class()</code> function.</span></p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="working-with-data.html#cb16-1" aria-hidden="true"></a>x1 &lt;-<span class="st"> </span><span class="dv">10</span></span>
<span id="cb16-2"><a href="working-with-data.html#cb16-2" aria-hidden="true"></a>x2 &lt;-<span class="st"> &quot;Welcome to Brown!&quot;</span></span>
<span id="cb16-3"><a href="working-with-data.html#cb16-3" aria-hidden="true"></a>x3 &lt;-<span class="st"> </span><span class="ot">TRUE</span></span></code></pre></div>
<p>To view what’s stored in those variables, we print them to the console.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="working-with-data.html#cb17-1" aria-hidden="true"></a><span class="co"># note that in some cases, you may want use the print() function</span></span>
<span id="cb17-2"><a href="working-with-data.html#cb17-2" aria-hidden="true"></a>x1</span></code></pre></div>
<pre><code>[1] 10</code></pre>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="working-with-data.html#cb19-1" aria-hidden="true"></a>x2</span></code></pre></div>
<pre><code>[1] &quot;Welcome to Brown!&quot;</code></pre>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="working-with-data.html#cb21-1" aria-hidden="true"></a>x3</span></code></pre></div>
<pre><code>[1] TRUE</code></pre>
<p>We can also perform manipulations with them:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="working-with-data.html#cb23-1" aria-hidden="true"></a>x1 <span class="op">*</span><span class="st"> </span><span class="dv">10</span></span></code></pre></div>
<pre><code>[1] 100</code></pre>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="working-with-data.html#cb25-1" aria-hidden="true"></a><span class="kw">paste</span>(x2, <span class="st">&quot;We can do many things with the paste() function!&quot;</span>)</span></code></pre></div>
<pre><code>[1] &quot;Welcome to Brown! We can do many things with the paste() function!&quot;</code></pre>
<p>With <code>x3</code>, we can do a couple of things because Booleans are also be treated as numerics, in a sense, where <code>TRUE</code> equals 1 and <code>FALSE</code> equals 0.</p>
<p><span class="marginnote">Recall the prior <a href="data-structures.html#major-differences-between-r-and-sas">discussion</a> of R as a functional language. Here, we pass the object <code>x3</code> to the function <code>isTRUE</code>.</span></p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="working-with-data.html#cb27-1" aria-hidden="true"></a><span class="co"># test whether x3 is TRUE</span></span>
<span id="cb27-2"><a href="working-with-data.html#cb27-2" aria-hidden="true"></a><span class="kw">isTRUE</span>(x3)</span></code></pre></div>
<pre><code>[1] TRUE</code></pre>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="working-with-data.html#cb29-1" aria-hidden="true"></a><span class="co"># test whether x3 is FALSE</span></span>
<span id="cb29-2"><a href="working-with-data.html#cb29-2" aria-hidden="true"></a><span class="kw">isFALSE</span>(x3)</span></code></pre></div>
<pre><code>[1] FALSE</code></pre>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="working-with-data.html#cb31-1" aria-hidden="true"></a><span class="co"># multiply TRUE (1) times 5</span></span>
<span id="cb31-2"><a href="working-with-data.html#cb31-2" aria-hidden="true"></a>x3 <span class="op">*</span><span class="st"> </span><span class="dv">5</span></span></code></pre></div>
<pre><code>[1] 5</code></pre>
<p>These are very simple examples, of course, but hopefully they provide some inkling as to how the different data types can be combined and manipulated to achieve various ends. Checking variable values and classes will be a regular task when manipulating data and debugging code.</p>
<p>For instance, if we needed to confirm that <code>x1</code> was a numeric variable, we could check it:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="working-with-data.html#cb33-1" aria-hidden="true"></a><span class="kw">is.numeric</span>(x1)</span></code></pre></div>
<pre><code>[1] TRUE</code></pre>
<p>Or we could make sure it took the value we expected:</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="working-with-data.html#cb35-1" aria-hidden="true"></a>x1 <span class="op">==</span><span class="st"> </span><span class="dv">10</span></span></code></pre></div>
<pre><code>[1] TRUE</code></pre>
<p>Note, that to avoid reassigning <code>x1</code>, we used <code>==</code>, which is a logical, or comparison, operator.</p>
<p>We’ll revisit logical operations in a bit after we review how to manipulate and work with some different types of objects.</p>
</div>
<div id="more-complex-objects" class="section level2" number="5.2">
<h2><span class="header-section-number">5.2</span> More Complex Objects</h2>
<p>When we reviewed data types previously, we saw that R is capable of handling objects such as vectors, matrices, lists, and data frames. Let’s have a look at each of these objects in turn, and get a feel for how we can work with them.</p>
<div id="vectors" class="section level3" number="5.2.1">
<h3><span class="header-section-number">5.2.1</span> Vectors</h3>
<p>You can think of a vector as a sequence of values. In fact, the objects we assigned in the prior section were simply vectors with a length of one.</p>
<p>Creating longer vectors is straightforward but requires a <strong>concatenation</strong> function called <code>c()</code>. As we did last time, let’s create a few vectors.</p>
<p><span class="marginnote definition"><strong>Concatenation</strong> Merging or joining multiple objects into one.</span></p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="working-with-data.html#cb37-1" aria-hidden="true"></a>x1_vec &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">50</span>, <span class="dv">21</span>, <span class="dv">455</span>, <span class="dv">89</span>, <span class="dv">09</span>)</span>
<span id="cb37-2"><a href="working-with-data.html#cb37-2" aria-hidden="true"></a>x2_vec &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Hi!&quot;</span>, <span class="st">&quot;Welcome&quot;</span>, <span class="st">&quot;to&quot;</span>, <span class="st">&quot;Brown&quot;</span>, <span class="st">&quot;SPH&quot;</span>)</span>
<span id="cb37-3"><a href="working-with-data.html#cb37-3" aria-hidden="true"></a>x3_vec &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">FALSE</span>, <span class="ot">FALSE</span>)</span>
<span id="cb37-4"><a href="working-with-data.html#cb37-4" aria-hidden="true"></a></span>
<span id="cb37-5"><a href="working-with-data.html#cb37-5" aria-hidden="true"></a>x1_vec</span></code></pre></div>
<pre><code>[1]  50  21 455  89   9</code></pre>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="working-with-data.html#cb39-1" aria-hidden="true"></a>x2_vec</span></code></pre></div>
<pre><code>[1] &quot;Hi!&quot;     &quot;Welcome&quot; &quot;to&quot;      &quot;Brown&quot;   &quot;SPH&quot;    </code></pre>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="working-with-data.html#cb41-1" aria-hidden="true"></a>x3_vec</span></code></pre></div>
<pre><code>[1]  TRUE  TRUE FALSE FALSE FALSE</code></pre>
<p>Now we have 3 more vectors for which we can retrieve some information. Let’s figure out the classes and lengths for each vector.</p>
<p><span class="marginnote">Much of the code in these blocks is included to make the output display a little neater. Ignore most of it for now, and simply recognize that we’ve passed each of the objects above into the <code>class()</code> and <code>length()</code> functions.</span></p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="working-with-data.html#cb43-1" aria-hidden="true"></a><span class="kw">cat</span>(<span class="st">&quot;x1_vec attributes&quot;</span>,</span>
<span id="cb43-2"><a href="working-with-data.html#cb43-2" aria-hidden="true"></a>    <span class="kw">paste0</span>(<span class="kw">rep</span>(<span class="st">&quot;-&quot;</span>, <span class="dv">30</span>), <span class="dt">collapse =</span> <span class="st">&quot;&quot;</span>),</span>
<span id="cb43-3"><a href="working-with-data.html#cb43-3" aria-hidden="true"></a>    <span class="kw">paste</span>(<span class="st">&quot;class:&quot;</span>, <span class="kw">class</span>(x1_vec)),</span>
<span id="cb43-4"><a href="working-with-data.html#cb43-4" aria-hidden="true"></a>    <span class="kw">paste</span>(<span class="st">&quot;length:&quot;</span>, <span class="kw">length</span>(x1_vec)),</span>
<span id="cb43-5"><a href="working-with-data.html#cb43-5" aria-hidden="true"></a>    <span class="dt">sep =</span> <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span></span>
<span id="cb43-6"><a href="working-with-data.html#cb43-6" aria-hidden="true"></a>  )</span></code></pre></div>
<pre><code>x1_vec attributes
------------------------------
class: numeric
length: 5</code></pre>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="working-with-data.html#cb45-1" aria-hidden="true"></a><span class="kw">cat</span>(<span class="st">&quot;x2_vec attributes&quot;</span>,</span>
<span id="cb45-2"><a href="working-with-data.html#cb45-2" aria-hidden="true"></a>    <span class="kw">paste0</span>(<span class="kw">rep</span>(<span class="st">&quot;-&quot;</span>, <span class="dv">30</span>), <span class="dt">collapse =</span> <span class="st">&quot;&quot;</span>),</span>
<span id="cb45-3"><a href="working-with-data.html#cb45-3" aria-hidden="true"></a>    <span class="kw">paste</span>(<span class="st">&quot;class:&quot;</span>, <span class="kw">class</span>(x2_vec)),</span>
<span id="cb45-4"><a href="working-with-data.html#cb45-4" aria-hidden="true"></a>    <span class="kw">paste</span>(<span class="st">&quot;length:&quot;</span>, <span class="kw">length</span>(x2_vec)),</span>
<span id="cb45-5"><a href="working-with-data.html#cb45-5" aria-hidden="true"></a>    <span class="dt">sep =</span> <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span></span>
<span id="cb45-6"><a href="working-with-data.html#cb45-6" aria-hidden="true"></a>  )</span></code></pre></div>
<pre><code>x2_vec attributes
------------------------------
class: character
length: 5</code></pre>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="working-with-data.html#cb47-1" aria-hidden="true"></a><span class="kw">cat</span>(<span class="st">&quot;x3_vec attributes&quot;</span>,</span>
<span id="cb47-2"><a href="working-with-data.html#cb47-2" aria-hidden="true"></a>    <span class="kw">paste0</span>(<span class="kw">rep</span>(<span class="st">&quot;-&quot;</span>, <span class="dv">30</span>), <span class="dt">collapse =</span> <span class="st">&quot;&quot;</span>),</span>
<span id="cb47-3"><a href="working-with-data.html#cb47-3" aria-hidden="true"></a>    <span class="kw">paste</span>(<span class="st">&quot;class:&quot;</span>, <span class="kw">class</span>(x3_vec)),</span>
<span id="cb47-4"><a href="working-with-data.html#cb47-4" aria-hidden="true"></a>    <span class="kw">paste</span>(<span class="st">&quot;length:&quot;</span>, <span class="kw">length</span>(x3_vec)),</span>
<span id="cb47-5"><a href="working-with-data.html#cb47-5" aria-hidden="true"></a>    <span class="dt">sep =</span> <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span></span>
<span id="cb47-6"><a href="working-with-data.html#cb47-6" aria-hidden="true"></a>  )</span></code></pre></div>
<pre><code>x3_vec attributes
------------------------------
class: logical
length: 5</code></pre>
<p>However, a single vector can contain values of only one class. In fact, if we try to mix classes, R will convert all elements of the vector into a single class. In the example below, R converts the numerical value 5 into a character because it doesn’t know how to convert the string we provided into a number.</p>
<p>This process of changing value classes is known as <strong>coercion</strong>.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="working-with-data.html#cb49-1" aria-hidden="true"></a>x4_vec &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">5</span>, <span class="st">&quot;So-called &#39;Arthur King&#39;!&quot;</span>)</span>
<span id="cb49-2"><a href="working-with-data.html#cb49-2" aria-hidden="true"></a></span>
<span id="cb49-3"><a href="working-with-data.html#cb49-3" aria-hidden="true"></a><span class="co"># R coerces the numeric value into a character</span></span>
<span id="cb49-4"><a href="working-with-data.html#cb49-4" aria-hidden="true"></a><span class="kw">c</span>(<span class="st">&quot;class&quot;</span> =<span class="st"> </span><span class="kw">class</span>(x4_vec[<span class="dv">1</span>]),</span>
<span id="cb49-5"><a href="working-with-data.html#cb49-5" aria-hidden="true"></a>  <span class="st">&quot;numeric?&quot;</span> =<span class="st"> </span><span class="kw">is.numeric</span>(x4_vec[<span class="dv">1</span>]))</span></code></pre></div>
<pre><code>      class    numeric? 
&quot;character&quot;     &quot;FALSE&quot; </code></pre>
<p><span class="marginnote">You can check specific class types with a large number of functions. A few examples to demonstrate their general form: <code>is.numeric()</code>, <code>is.character()</code>, <code>is.logical()</code>, <code>is.vector()</code>.</span></p>
<p>We see the vector’s class is <code>character</code>. If we print the first element of the vector, we’ll see R has wrapped it in quotation marks, indicating that the number 5 has been saved as a string (a series of characters).</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="working-with-data.html#cb51-1" aria-hidden="true"></a>x4_vec[<span class="dv">1</span>]</span></code></pre></div>
<pre><code>[1] &quot;5&quot;</code></pre>
<p>The implication here is important. Say you wanted to perform a logical or arithmetic operation on the first element. What would be the result?</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="working-with-data.html#cb53-1" aria-hidden="true"></a><span class="co"># arithmetic operation</span></span>
<span id="cb53-2"><a href="working-with-data.html#cb53-2" aria-hidden="true"></a>x4_vec[<span class="dv">1</span>] <span class="op">+</span><span class="st"> </span><span class="dv">5</span></span></code></pre></div>
<pre><code>Error in x4_vec[1] + 5: non-numeric argument to binary operator</code></pre>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="working-with-data.html#cb55-1" aria-hidden="true"></a><span class="co"># equivalence with another numeric</span></span>
<span id="cb55-2"><a href="working-with-data.html#cb55-2" aria-hidden="true"></a>x4_vec[<span class="dv">1</span>] <span class="op">==</span><span class="st"> </span><span class="dv">5</span></span></code></pre></div>
<pre><code>[1] TRUE</code></pre>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="working-with-data.html#cb57-1" aria-hidden="true"></a><span class="co"># equivalence with another string</span></span>
<span id="cb57-2"><a href="working-with-data.html#cb57-2" aria-hidden="true"></a>x4_vec[<span class="dv">1</span>] <span class="op">==</span><span class="st"> &quot;5&quot;</span></span></code></pre></div>
<pre><code>[1] TRUE</code></pre>
<p>Something interesting happened… the arithmetic operation failed because the first element of <code>x4_vec</code> was a character string, but the other two operations succeeded!</p>
<p>In the latter case, we might not be all that surprised: after all, we compared two strings we knew were identical. However, in the second example R implicitly coerced our character “5” into a numeric value and was able to compare it successfully to the numeric value we proposed.</p>
<p>Familiarize yourself with how R (or any programming lanuage you happen to be using) handles different classes and objects. All languages have their quirks in this regard, and recognizing these special cases early on will save you a lot of grief in the future.</p>
</div>
<div id="matrices" class="section level3" number="5.2.2">
<h3><span class="header-section-number">5.2.2</span> Matrices</h3>
<p>In most epidemiologic data analysis, you might not end up dealing with matrices all that often. Because most of the data sets epidemiologists use contain mixtures of numeric, string, and other variable formats, we tend to use data frames.</p>
<p>However, you should still be familiar with matrices as, depending on your line of work, they may come in handy.</p>
<p><span class="marginnote">For instance, you might actually need to do linear algebra, in which case, you may need to use a matrix. In addition, for very computationally demanding tasks, R can operate on matrices much faster than on data frames. We’ll largely ignore these issues for now, but we’ll look at a couple of instances in which matrices can be used to generate nice figure layouts for <a href="/data-visualization.html">data visualization</a>.</span></p>
<p>Matrices can be multidimensional, but for the sake of our emotional stability, we’ll consider matrices in up to three dimensions.</p>
<p>A two-dimensional matrix is essentially a vector:</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="working-with-data.html#cb59-1" aria-hidden="true"></a>mat1 &lt;-<span class="st"> </span><span class="kw">as.matrix</span>(<span class="kw">c</span>(<span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>))</span>
<span id="cb59-2"><a href="working-with-data.html#cb59-2" aria-hidden="true"></a>mat1</span></code></pre></div>
<pre><code>     [,1]
[1,]    6
[2,]    7
[3,]    8</code></pre>
<p>However, because the elements are now indexed by both row and colum, we need to refer to each element by its specific coordinates.</p>
<p>For example, if we want to retrieve 7 from the matrix, we need to tell R that we want the element in row 2, column 1, which we can do as follows:</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="working-with-data.html#cb61-1" aria-hidden="true"></a>mat1[<span class="dv">2</span>, <span class="dv">1</span>]</span></code></pre></div>
<pre><code>[1] 7</code></pre>
<p>If we wanted the third row:</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="working-with-data.html#cb63-1" aria-hidden="true"></a>mat1[<span class="dv">3</span>, ]</span></code></pre></div>
<pre><code>[1] 8</code></pre>
<p>If we wanted the first colum:</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="working-with-data.html#cb65-1" aria-hidden="true"></a>mat1[, <span class="dv">1</span>]</span></code></pre></div>
<pre><code>[1] 6 7 8</code></pre>
<p>With such a small matrix, these operations might seem a bit daft, so let’s consider a larger numerical matrix.</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="working-with-data.html#cb67-1" aria-hidden="true"></a>n1 &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">100</span></span>
<span id="cb67-2"><a href="working-with-data.html#cb67-2" aria-hidden="true"></a>n2 &lt;-<span class="st"> </span><span class="dv">901</span><span class="op">:</span><span class="dv">1000</span></span>
<span id="cb67-3"><a href="working-with-data.html#cb67-3" aria-hidden="true"></a></span>
<span id="cb67-4"><a href="working-with-data.html#cb67-4" aria-hidden="true"></a>mat2 &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">c</span>(n1, n2), <span class="dt">nrow =</span> <span class="dv">100</span>)</span>
<span id="cb67-5"><a href="working-with-data.html#cb67-5" aria-hidden="true"></a></span>
<span id="cb67-6"><a href="working-with-data.html#cb67-6" aria-hidden="true"></a><span class="co"># show the first 10 rows of the matrix</span></span>
<span id="cb67-7"><a href="working-with-data.html#cb67-7" aria-hidden="true"></a>mat2[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, ]</span></code></pre></div>
<pre><code>      [,1] [,2]
 [1,]    1  901
 [2,]    2  902
 [3,]    3  903
 [4,]    4  904
 [5,]    5  905
 [6,]    6  906
 [7,]    7  907
 [8,]    8  908
 [9,]    9  909
[10,]   10  910</code></pre>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="working-with-data.html#cb69-1" aria-hidden="true"></a><span class="co"># print total number of rows and columns</span></span>
<span id="cb69-2"><a href="working-with-data.html#cb69-2" aria-hidden="true"></a><span class="kw">dim</span>(mat2)</span></code></pre></div>
<pre><code>[1] 100   2</code></pre>
<p>Be careful with matrices, though:</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="working-with-data.html#cb71-1" aria-hidden="true"></a>mat3 &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">c</span>(n1, n2), <span class="dt">nrow =</span> <span class="dv">50</span>)</span>
<span id="cb71-2"><a href="working-with-data.html#cb71-2" aria-hidden="true"></a></span>
<span id="cb71-3"><a href="working-with-data.html#cb71-3" aria-hidden="true"></a>mat3[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, ]</span></code></pre></div>
<pre><code>      [,1] [,2] [,3] [,4]
 [1,]    1   51  901  951
 [2,]    2   52  902  952
 [3,]    3   53  903  953
 [4,]    4   54  904  954
 [5,]    5   55  905  955
 [6,]    6   56  906  956
 [7,]    7   57  907  957
 [8,]    8   58  908  958
 [9,]    9   59  909  959
[10,]   10   60  910  960</code></pre>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="working-with-data.html#cb73-1" aria-hidden="true"></a><span class="kw">dim</span>(mat3)</span></code></pre></div>
<pre><code>[1] 50  4</code></pre>
<p>Because we told R we wanted a matrix with 50 rows, the first vector we specified was distributed across the first two columns, while the second vector was distributed across the third and fourth columns.</p>
<p>That’s fine if it’s what we wanted. Let’s say, though, that we wanted a matrix with 50 rows and 4 columns but wanted it filled out row-by-row:</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="working-with-data.html#cb75-1" aria-hidden="true"></a>mat4 &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">c</span>(n1, n2), <span class="dt">nrow =</span> <span class="dv">50</span>, <span class="dt">ncol =</span> <span class="dv">4</span>, <span class="dt">byrow =</span> <span class="ot">TRUE</span>)</span>
<span id="cb75-2"><a href="working-with-data.html#cb75-2" aria-hidden="true"></a>mat4[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, ]</span></code></pre></div>
<pre><code>      [,1] [,2] [,3] [,4]
 [1,]    1    2    3    4
 [2,]    5    6    7    8
 [3,]    9   10   11   12
 [4,]   13   14   15   16
 [5,]   17   18   19   20
 [6,]   21   22   23   24
 [7,]   25   26   27   28
 [8,]   29   30   31   32
 [9,]   33   34   35   36
[10,]   37   38   39   40</code></pre>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="working-with-data.html#cb77-1" aria-hidden="true"></a><span class="co"># </span><span class="al">NOTE</span></span>
<span id="cb77-2"><a href="working-with-data.html#cb77-2" aria-hidden="true"></a><span class="co"># Here, we return rows 41-50 from mat4, but the output will label them 1-10.</span></span>
<span id="cb77-3"><a href="working-with-data.html#cb77-3" aria-hidden="true"></a><span class="co"># That&#39;s because R returns our request to us as its own matrix.</span></span>
<span id="cb77-4"><a href="working-with-data.html#cb77-4" aria-hidden="true"></a>mat4[<span class="dv">41</span><span class="op">:</span><span class="dv">50</span>, ]</span></code></pre></div>
<pre><code>      [,1] [,2] [,3] [,4]
 [1,]  961  962  963  964
 [2,]  965  966  967  968
 [3,]  969  970  971  972
 [4,]  973  974  975  976
 [5,]  977  978  979  980
 [6,]  981  982  983  984
 [7,]  985  986  987  988
 [8,]  989  990  991  992
 [9,]  993  994  995  996
[10,]  997  998  999 1000</code></pre>
<p>In general, specifying the features you want in as much detail as possible will be the safest route, and may save you a good deal of grief in the future.</p>
<p>Say we wanted to get the column and row sums for this matrix. Easy!</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="working-with-data.html#cb79-1" aria-hidden="true"></a><span class="kw">colSums</span>(mat4)</span></code></pre></div>
<pre><code>[1] 24950 25000 25050 25100</code></pre>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="working-with-data.html#cb81-1" aria-hidden="true"></a><span class="kw">rowSums</span>(mat4)</span></code></pre></div>
<pre><code> [1]   10   26   42   58   74   90  106  122  138  154  170  186  202  218  234
[16]  250  266  282  298  314  330  346  362  378  394 3610 3626 3642 3658 3674
[31] 3690 3706 3722 3738 3754 3770 3786 3802 3818 3834 3850 3866 3882 3898 3914
[46] 3930 3946 3962 3978 3994</code></pre>
<p>Say we wanted to multiply every number in the matrix by 123456. Easy!</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="working-with-data.html#cb83-1" aria-hidden="true"></a>mat4 <span class="op">*</span><span class="st"> </span><span class="dv">123456</span></span></code></pre></div>
<pre><code>           [,1]      [,2]      [,3]      [,4]
 [1,]    123456    246912    370368    493824
 [2,]    617280    740736    864192    987648
 [3,]   1111104   1234560   1358016   1481472
 [4,]   1604928   1728384   1851840   1975296
 [5,]   2098752   2222208   2345664   2469120
 [6,]   2592576   2716032   2839488   2962944
 [7,]   3086400   3209856   3333312   3456768
 [8,]   3580224   3703680   3827136   3950592
 [9,]   4074048   4197504   4320960   4444416
[10,]   4567872   4691328   4814784   4938240
[11,]   5061696   5185152   5308608   5432064
[12,]   5555520   5678976   5802432   5925888
[13,]   6049344   6172800   6296256   6419712
[14,]   6543168   6666624   6790080   6913536
[15,]   7036992   7160448   7283904   7407360
[16,]   7530816   7654272   7777728   7901184
[17,]   8024640   8148096   8271552   8395008
[18,]   8518464   8641920   8765376   8888832
[19,]   9012288   9135744   9259200   9382656
[20,]   9506112   9629568   9753024   9876480
[21,]   9999936  10123392  10246848  10370304
[22,]  10493760  10617216  10740672  10864128
[23,]  10987584  11111040  11234496  11357952
[24,]  11481408  11604864  11728320  11851776
[25,]  11975232  12098688  12222144  12345600
[26,] 111233856 111357312 111480768 111604224
[27,] 111727680 111851136 111974592 112098048
[28,] 112221504 112344960 112468416 112591872
[29,] 112715328 112838784 112962240 113085696
[30,] 113209152 113332608 113456064 113579520
[31,] 113702976 113826432 113949888 114073344
[32,] 114196800 114320256 114443712 114567168
[33,] 114690624 114814080 114937536 115060992
[34,] 115184448 115307904 115431360 115554816
[35,] 115678272 115801728 115925184 116048640
[36,] 116172096 116295552 116419008 116542464
[37,] 116665920 116789376 116912832 117036288
[38,] 117159744 117283200 117406656 117530112
[39,] 117653568 117777024 117900480 118023936
[40,] 118147392 118270848 118394304 118517760
[41,] 118641216 118764672 118888128 119011584
[42,] 119135040 119258496 119381952 119505408
[43,] 119628864 119752320 119875776 119999232
[44,] 120122688 120246144 120369600 120493056
[45,] 120616512 120739968 120863424 120986880
[46,] 121110336 121233792 121357248 121480704
[47,] 121604160 121727616 121851072 121974528
[48,] 122097984 122221440 122344896 122468352
[49,] 122591808 122715264 122838720 122962176
[50,] 123085632 123209088 123332544 123456000</code></pre>
</div>
<div id="lists" class="section level3" number="5.2.3">
<h3><span class="header-section-number">5.2.3</span> Lists</h3>
<p>Lists are very flexible objects in R. Think of them like chest of drawers into which we can store basically any other type of object. This feature of lists makes them useful for storing all sorts of data. In fact, when we get to fitting regression models, we’ll see that the fitted model objects R returns to us are essentially stored as lists containing the estimated models, the data used to fit the model, regression diagnostics, and more.</p>
<p>A quick demonstration of storing multiple objects in a list:</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="working-with-data.html#cb85-1" aria-hidden="true"></a><span class="co"># Object 1: Vector</span></span>
<span id="cb85-2"><a href="working-with-data.html#cb85-2" aria-hidden="true"></a>my_vector &lt;-<span class="st"> </span><span class="dv">4</span><span class="op">:</span><span class="dv">10</span></span>
<span id="cb85-3"><a href="working-with-data.html#cb85-3" aria-hidden="true"></a></span>
<span id="cb85-4"><a href="working-with-data.html#cb85-4" aria-hidden="true"></a><span class="co"># Object 2: Matrix</span></span>
<span id="cb85-5"><a href="working-with-data.html#cb85-5" aria-hidden="true"></a>my_matrix &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">20</span>, <span class="dt">ncol =</span> <span class="dv">4</span>, <span class="dt">byrow =</span> T)</span>
<span id="cb85-6"><a href="working-with-data.html#cb85-6" aria-hidden="true"></a></span>
<span id="cb85-7"><a href="working-with-data.html#cb85-7" aria-hidden="true"></a><span class="co"># Object 3: Dataframe (first 15 rows of iris)</span></span>
<span id="cb85-8"><a href="working-with-data.html#cb85-8" aria-hidden="true"></a>my_df &lt;-<span class="st"> </span>datasets<span class="op">::</span>iris[<span class="dv">1</span><span class="op">:</span><span class="dv">15</span>, ]</span>
<span id="cb85-9"><a href="working-with-data.html#cb85-9" aria-hidden="true"></a></span>
<span id="cb85-10"><a href="working-with-data.html#cb85-10" aria-hidden="true"></a><span class="co"># Object 4: List</span></span>
<span id="cb85-11"><a href="working-with-data.html#cb85-11" aria-hidden="true"></a>my_list &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">vector =</span> my_vector,</span>
<span id="cb85-12"><a href="working-with-data.html#cb85-12" aria-hidden="true"></a>                <span class="dt">matrix =</span> my_matrix,</span>
<span id="cb85-13"><a href="working-with-data.html#cb85-13" aria-hidden="true"></a>                <span class="dt">dataframe =</span> my_df)</span>
<span id="cb85-14"><a href="working-with-data.html#cb85-14" aria-hidden="true"></a></span>
<span id="cb85-15"><a href="working-with-data.html#cb85-15" aria-hidden="true"></a>my_list</span></code></pre></div>
<pre><code>$vector
[1]  4  5  6  7  8  9 10

$matrix
     [,1] [,2] [,3] [,4]
[1,]    1    2    3    4
[2,]    5    6    7    8
[3,]    9   10   11   12
[4,]   13   14   15   16
[5,]   17   18   19   20

$dataframe
   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
1           5.1         3.5          1.4         0.2  setosa
2           4.9         3.0          1.4         0.2  setosa
3           4.7         3.2          1.3         0.2  setosa
4           4.6         3.1          1.5         0.2  setosa
5           5.0         3.6          1.4         0.2  setosa
6           5.4         3.9          1.7         0.4  setosa
7           4.6         3.4          1.4         0.3  setosa
8           5.0         3.4          1.5         0.2  setosa
9           4.4         2.9          1.4         0.2  setosa
10          4.9         3.1          1.5         0.1  setosa
11          5.4         3.7          1.5         0.2  setosa
12          4.8         3.4          1.6         0.2  setosa
13          4.8         3.0          1.4         0.1  setosa
14          4.3         3.0          1.1         0.1  setosa
15          5.8         4.0          1.2         0.2  setosa</code></pre>
<p>Now, let’s interrogate the list so we can get familiar with its features.</p>
<p>First, we saved each of the three objects into their own space within the list. <em>The objects are still separate from one other. In other words, we have not merged them.</em> Each of these spaces possesses a name, which we assigned in the code above.</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="working-with-data.html#cb87-1" aria-hidden="true"></a><span class="kw">names</span>(my_list)</span></code></pre></div>
<pre><code>[1] &quot;vector&quot;    &quot;matrix&quot;    &quot;dataframe&quot;</code></pre>
<p>We can query each of the objects individually:</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="working-with-data.html#cb89-1" aria-hidden="true"></a>my_list<span class="op">$</span>vector</span></code></pre></div>
<pre><code>[1]  4  5  6  7  8  9 10</code></pre>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="working-with-data.html#cb91-1" aria-hidden="true"></a>my_list<span class="op">$</span>matrix</span></code></pre></div>
<pre><code>     [,1] [,2] [,3] [,4]
[1,]    1    2    3    4
[2,]    5    6    7    8
[3,]    9   10   11   12
[4,]   13   14   15   16
[5,]   17   18   19   20</code></pre>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="working-with-data.html#cb93-1" aria-hidden="true"></a><span class="kw">head</span>(my_list<span class="op">$</span>dataframe)</span></code></pre></div>
<pre><code>  Sepal.Length Sepal.Width Petal.Length Petal.Width Species
1          5.1         3.5          1.4         0.2  setosa
2          4.9         3.0          1.4         0.2  setosa
3          4.7         3.2          1.3         0.2  setosa
4          4.6         3.1          1.5         0.2  setosa
5          5.0         3.6          1.4         0.2  setosa
6          5.4         3.9          1.7         0.4  setosa</code></pre>
<p>Alternatively, we could have accessed each object using a few different methods, each with slightly different effects. Let’s focus on the dataframe to demonstrate.</p>
<p>Access using single brackets and name of the list element:</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="working-with-data.html#cb95-1" aria-hidden="true"></a>my_list[<span class="st">&quot;dataframe&quot;</span>]</span></code></pre></div>
<pre><code>$dataframe
   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
1           5.1         3.5          1.4         0.2  setosa
2           4.9         3.0          1.4         0.2  setosa
3           4.7         3.2          1.3         0.2  setosa
4           4.6         3.1          1.5         0.2  setosa
5           5.0         3.6          1.4         0.2  setosa
6           5.4         3.9          1.7         0.4  setosa
7           4.6         3.4          1.4         0.3  setosa
8           5.0         3.4          1.5         0.2  setosa
9           4.4         2.9          1.4         0.2  setosa
10          4.9         3.1          1.5         0.1  setosa
11          5.4         3.7          1.5         0.2  setosa
12          4.8         3.4          1.6         0.2  setosa
13          4.8         3.0          1.4         0.1  setosa
14          4.3         3.0          1.1         0.1  setosa
15          5.8         4.0          1.2         0.2  setosa</code></pre>
<p>Access using double brackets and name of the list element:</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="working-with-data.html#cb97-1" aria-hidden="true"></a>my_list[[<span class="st">&quot;dataframe&quot;</span>]]</span></code></pre></div>
<pre><code>   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
1           5.1         3.5          1.4         0.2  setosa
2           4.9         3.0          1.4         0.2  setosa
3           4.7         3.2          1.3         0.2  setosa
4           4.6         3.1          1.5         0.2  setosa
5           5.0         3.6          1.4         0.2  setosa
6           5.4         3.9          1.7         0.4  setosa
7           4.6         3.4          1.4         0.3  setosa
8           5.0         3.4          1.5         0.2  setosa
9           4.4         2.9          1.4         0.2  setosa
10          4.9         3.1          1.5         0.1  setosa
11          5.4         3.7          1.5         0.2  setosa
12          4.8         3.4          1.6         0.2  setosa
13          4.8         3.0          1.4         0.1  setosa
14          4.3         3.0          1.1         0.1  setosa
15          5.8         4.0          1.2         0.2  setosa</code></pre>
<p>The difference between what each of these calls returned is subtle but important. Recall the chest of drawers metaphor we applied to lists.</p>
<p>The list is the chest, each element is a drawer, and each drawer is filled with particular contents.</p>
<ol style="list-style-type: decimal">
<li><p>When we use single brackets, we pull the drawer out of the chest. However, we <em>do not access the contents of the drawer directly</em>.</p></li>
<li><p>When we use double brackets, we pull the contents out of the drawer, which means we can access them directly and act upon them as if they were not in the list at all.</p></li>
</ol>
<p>To see the implications of how we query the list, we can try to perform some operations on the dataframe using each method of accessing it.</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="working-with-data.html#cb99-1" aria-hidden="true"></a><span class="co"># access the list element (pull out the drawer)</span></span>
<span id="cb99-2"><a href="working-with-data.html#cb99-2" aria-hidden="true"></a><span class="kw">head</span>(my_list[<span class="st">&quot;dataframe&quot;</span>])</span></code></pre></div>
<pre><code>$dataframe
   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
1           5.1         3.5          1.4         0.2  setosa
2           4.9         3.0          1.4         0.2  setosa
3           4.7         3.2          1.3         0.2  setosa
4           4.6         3.1          1.5         0.2  setosa
5           5.0         3.6          1.4         0.2  setosa
6           5.4         3.9          1.7         0.4  setosa
7           4.6         3.4          1.4         0.3  setosa
8           5.0         3.4          1.5         0.2  setosa
9           4.4         2.9          1.4         0.2  setosa
10          4.9         3.1          1.5         0.1  setosa
11          5.4         3.7          1.5         0.2  setosa
12          4.8         3.4          1.6         0.2  setosa
13          4.8         3.0          1.4         0.1  setosa
14          4.3         3.0          1.1         0.1  setosa
15          5.8         4.0          1.2         0.2  setosa</code></pre>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="working-with-data.html#cb101-1" aria-hidden="true"></a><span class="co"># access the dataframe itself (pull out the contents of the drawer)</span></span>
<span id="cb101-2"><a href="working-with-data.html#cb101-2" aria-hidden="true"></a><span class="kw">head</span>(my_list[[<span class="st">&quot;dataframe&quot;</span>]])</span></code></pre></div>
<pre><code>  Sepal.Length Sepal.Width Petal.Length Petal.Width Species
1          5.1         3.5          1.4         0.2  setosa
2          4.9         3.0          1.4         0.2  setosa
3          4.7         3.2          1.3         0.2  setosa
4          4.6         3.1          1.5         0.2  setosa
5          5.0         3.6          1.4         0.2  setosa
6          5.4         3.9          1.7         0.4  setosa</code></pre>
<p>In the first case, R did not apply the <code>head()</code> function because we did not access the contents of drawer we wanted.</p>
<p>The same bracket principle applies if we access elements and their contents using the numerical index of the list.</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="working-with-data.html#cb103-1" aria-hidden="true"></a><span class="kw">head</span>(my_list[<span class="dv">3</span>])</span></code></pre></div>
<pre><code>$dataframe
   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
1           5.1         3.5          1.4         0.2  setosa
2           4.9         3.0          1.4         0.2  setosa
3           4.7         3.2          1.3         0.2  setosa
4           4.6         3.1          1.5         0.2  setosa
5           5.0         3.6          1.4         0.2  setosa
6           5.4         3.9          1.7         0.4  setosa
7           4.6         3.4          1.4         0.3  setosa
8           5.0         3.4          1.5         0.2  setosa
9           4.4         2.9          1.4         0.2  setosa
10          4.9         3.1          1.5         0.1  setosa
11          5.4         3.7          1.5         0.2  setosa
12          4.8         3.4          1.6         0.2  setosa
13          4.8         3.0          1.4         0.1  setosa
14          4.3         3.0          1.1         0.1  setosa
15          5.8         4.0          1.2         0.2  setosa</code></pre>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="working-with-data.html#cb105-1" aria-hidden="true"></a><span class="kw">head</span>(my_list[[<span class="dv">3</span>]])</span></code></pre></div>
<pre><code>  Sepal.Length Sepal.Width Petal.Length Petal.Width Species
1          5.1         3.5          1.4         0.2  setosa
2          4.9         3.0          1.4         0.2  setosa
3          4.7         3.2          1.3         0.2  setosa
4          4.6         3.1          1.5         0.2  setosa
5          5.0         3.6          1.4         0.2  setosa
6          5.4         3.9          1.7         0.4  setosa</code></pre>
<p><!--
<caption>--><span class="marginnote shownote"><span id="tab:list-access-table">Table 5.1: </span>List access summary</span><!--</caption>--></p>
<table>
<thead>
<tr class="header">
<th align="left">Access method</th>
<th align="left">Example</th>
<th align="left">Returns</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">list[“elementName”]</td>
<td align="left">my_list[“dataframe”]</td>
<td align="left">Element</td>
</tr>
<tr class="even">
<td align="left">list[elementIndex]</td>
<td align="left">my_list[3]</td>
<td align="left">Element</td>
</tr>
<tr class="odd">
<td align="left">list[[“elementName”]]</td>
<td align="left">my_list[[“dataframe”]]</td>
<td align="left">Element contents</td>
</tr>
<tr class="even">
<td align="left">list[[elementIndex]]</td>
<td align="left">my_list[[3]]</td>
<td align="left">Element contents</td>
</tr>
<tr class="odd">
<td align="left">list$elementName</td>
<td align="left">my_list$dataframe</td>
<td align="left">Element contents</td>
</tr>
</tbody>
</table>
<p>In addition, we can place chests between drawers: in other words, we can <strong>nest</strong> lists within lists.</p>
<p><span class="marginnote definition">
<strong>Nesting</strong> Placing objects of the same or similar type within one another. <a href="https://en.wikipedia.org/wiki/Nesting_(computing)">More info</a>.</p>
<p>
<span class="marginnote shownote">
<!--
<div class="figure">--><span style="display:block;" id="fig:matryoshka-doll"></span>
<img src="images/matryoshka-doll_BrokenSphere_Wikimedia-Cropped.jpg" alt="Think of [Matryoshka (Russian nesting) dolls](https://en.wikipedia.org/wiki/Matryoshka_doll). &amp;copy; BrokenSphere / [Wikimedia Commons](https://commons.wikimedia.org/wiki/File:Floral_matryoshka_set_2_smallest_doll_nested.JPG) (cropped)"  />
<!--
<p class="caption marginnote">-->Figure 5.1: Think of <a href="https://en.wikipedia.org/wiki/Matryoshka_doll">Matryoshka (Russian nesting) dolls</a>. © BrokenSphere / <a href="https://commons.wikimedia.org/wiki/File:Floral_matryoshka_set_2_smallest_doll_nested.JPG">Wikimedia Commons</a> (cropped)<!--</p>-->
<!--</div>--></span>
</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="working-with-data.html#cb107-1" aria-hidden="true"></a><span class="co"># select first n rows from each example dataset</span></span>
<span id="cb107-2"><a href="working-with-data.html#cb107-2" aria-hidden="true"></a>n1 &lt;-<span class="st"> </span><span class="dv">15</span></span>
<span id="cb107-3"><a href="working-with-data.html#cb107-3" aria-hidden="true"></a>n2 &lt;-<span class="st"> </span><span class="dv">30</span></span>
<span id="cb107-4"><a href="working-with-data.html#cb107-4" aria-hidden="true"></a>n3 &lt;-<span class="st"> </span><span class="dv">50</span></span>
<span id="cb107-5"><a href="working-with-data.html#cb107-5" aria-hidden="true"></a></span>
<span id="cb107-6"><a href="working-with-data.html#cb107-6" aria-hidden="true"></a><span class="co"># create a subset of each dataset</span></span>
<span id="cb107-7"><a href="working-with-data.html#cb107-7" aria-hidden="true"></a>iris_sub  &lt;-<span class="st"> </span>datasets<span class="op">::</span>iris[<span class="dv">1</span><span class="op">:</span>n1, ]</span>
<span id="cb107-8"><a href="working-with-data.html#cb107-8" aria-hidden="true"></a>airq_sub  &lt;-<span class="st"> </span>datasets<span class="op">::</span>airquality[<span class="dv">1</span><span class="op">:</span>n2, ]</span>
<span id="cb107-9"><a href="working-with-data.html#cb107-9" aria-hidden="true"></a>quake_sub &lt;-<span class="st"> </span>datasets<span class="op">::</span>quakes[<span class="dv">1</span><span class="op">:</span>n3, ]</span>
<span id="cb107-10"><a href="working-with-data.html#cb107-10" aria-hidden="true"></a></span>
<span id="cb107-11"><a href="working-with-data.html#cb107-11" aria-hidden="true"></a><span class="co"># store some info about the iris dataset</span></span>
<span id="cb107-12"><a href="working-with-data.html#cb107-12" aria-hidden="true"></a><span class="co"># info: ?datasets::iris</span></span>
<span id="cb107-13"><a href="working-with-data.html#cb107-13" aria-hidden="true"></a>nl1 &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">data =</span> iris_sub,</span>
<span id="cb107-14"><a href="working-with-data.html#cb107-14" aria-hidden="true"></a>            <span class="dt">nrows =</span> <span class="kw">nrow</span>(iris_sub),</span>
<span id="cb107-15"><a href="working-with-data.html#cb107-15" aria-hidden="true"></a>            <span class="dt">ncols =</span> <span class="kw">length</span>(iris_sub))</span>
<span id="cb107-16"><a href="working-with-data.html#cb107-16" aria-hidden="true"></a></span>
<span id="cb107-17"><a href="working-with-data.html#cb107-17" aria-hidden="true"></a><span class="co"># store some info about the airquality dataset</span></span>
<span id="cb107-18"><a href="working-with-data.html#cb107-18" aria-hidden="true"></a><span class="co"># info: ?datasets::airquality</span></span>
<span id="cb107-19"><a href="working-with-data.html#cb107-19" aria-hidden="true"></a>nl2 &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">data =</span> airq_sub,</span>
<span id="cb107-20"><a href="working-with-data.html#cb107-20" aria-hidden="true"></a>            <span class="dt">nrows =</span> <span class="kw">nrow</span>(airq_sub),</span>
<span id="cb107-21"><a href="working-with-data.html#cb107-21" aria-hidden="true"></a>            <span class="dt">ncols =</span> <span class="kw">length</span>(airq_sub))</span>
<span id="cb107-22"><a href="working-with-data.html#cb107-22" aria-hidden="true"></a></span>
<span id="cb107-23"><a href="working-with-data.html#cb107-23" aria-hidden="true"></a><span class="co"># store some info about the precip dataset</span></span>
<span id="cb107-24"><a href="working-with-data.html#cb107-24" aria-hidden="true"></a><span class="co"># info: ?datasets::quakes</span></span>
<span id="cb107-25"><a href="working-with-data.html#cb107-25" aria-hidden="true"></a>nl3 &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">data =</span> quake_sub,</span>
<span id="cb107-26"><a href="working-with-data.html#cb107-26" aria-hidden="true"></a>            <span class="dt">nrows =</span> <span class="kw">nrow</span>(quake_sub),</span>
<span id="cb107-27"><a href="working-with-data.html#cb107-27" aria-hidden="true"></a>            <span class="dt">ncols =</span> <span class="kw">length</span>(quake_sub))</span>
<span id="cb107-28"><a href="working-with-data.html#cb107-28" aria-hidden="true"></a></span>
<span id="cb107-29"><a href="working-with-data.html#cb107-29" aria-hidden="true"></a><span class="co"># store dataset summaries to list</span></span>
<span id="cb107-30"><a href="working-with-data.html#cb107-30" aria-hidden="true"></a>datasummary_list &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">irisdata =</span> nl1,</span>
<span id="cb107-31"><a href="working-with-data.html#cb107-31" aria-hidden="true"></a>                         <span class="dt">airquality_data =</span> nl2,</span>
<span id="cb107-32"><a href="working-with-data.html#cb107-32" aria-hidden="true"></a>                         <span class="dt">quake_data =</span> nl3)</span></code></pre></div>
<p>Before we look at <code>datasummary_list</code>, sit with the code above for a minute and think about what you expect <code>datasummary_list</code> to look like…</p>
<p>We saved three lists, each containing a dataset along with some basic information about that dataset.</p>
<p>Next, we took these three lists and put them all into another list.</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="working-with-data.html#cb108-1" aria-hidden="true"></a>datasummary_list</span></code></pre></div>
<pre><code>$irisdata
$irisdata$data
   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
1           5.1         3.5          1.4         0.2  setosa
2           4.9         3.0          1.4         0.2  setosa
3           4.7         3.2          1.3         0.2  setosa
4           4.6         3.1          1.5         0.2  setosa
5           5.0         3.6          1.4         0.2  setosa
6           5.4         3.9          1.7         0.4  setosa
7           4.6         3.4          1.4         0.3  setosa
8           5.0         3.4          1.5         0.2  setosa
9           4.4         2.9          1.4         0.2  setosa
10          4.9         3.1          1.5         0.1  setosa
11          5.4         3.7          1.5         0.2  setosa
12          4.8         3.4          1.6         0.2  setosa
13          4.8         3.0          1.4         0.1  setosa
14          4.3         3.0          1.1         0.1  setosa
15          5.8         4.0          1.2         0.2  setosa

$irisdata$nrows
[1] 15

$irisdata$ncols
[1] 5


$airquality_data
$airquality_data$data
   Ozone Solar.R Wind Temp Month Day
1     41     190  7.4   67     5   1
2     36     118  8.0   72     5   2
3     12     149 12.6   74     5   3
4     18     313 11.5   62     5   4
5     NA      NA 14.3   56     5   5
6     28      NA 14.9   66     5   6
7     23     299  8.6   65     5   7
8     19      99 13.8   59     5   8
9      8      19 20.1   61     5   9
10    NA     194  8.6   69     5  10
11     7      NA  6.9   74     5  11
12    16     256  9.7   69     5  12
13    11     290  9.2   66     5  13
14    14     274 10.9   68     5  14
15    18      65 13.2   58     5  15
16    14     334 11.5   64     5  16
17    34     307 12.0   66     5  17
18     6      78 18.4   57     5  18
19    30     322 11.5   68     5  19
20    11      44  9.7   62     5  20
21     1       8  9.7   59     5  21
22    11     320 16.6   73     5  22
23     4      25  9.7   61     5  23
24    32      92 12.0   61     5  24
25    NA      66 16.6   57     5  25
26    NA     266 14.9   58     5  26
27    NA      NA  8.0   57     5  27
28    23      13 12.0   67     5  28
29    45     252 14.9   81     5  29
30   115     223  5.7   79     5  30

$airquality_data$nrows
[1] 30

$airquality_data$ncols
[1] 6


$quake_data
$quake_data$data
      lat   long depth mag stations
1  -20.42 181.62   562 4.8       41
2  -20.62 181.03   650 4.2       15
3  -26.00 184.10    42 5.4       43
4  -17.97 181.66   626 4.1       19
5  -20.42 181.96   649 4.0       11
6  -19.68 184.31   195 4.0       12
7  -11.70 166.10    82 4.8       43
8  -28.11 181.93   194 4.4       15
9  -28.74 181.74   211 4.7       35
10 -17.47 179.59   622 4.3       19
11 -21.44 180.69   583 4.4       13
12 -12.26 167.00   249 4.6       16
13 -18.54 182.11   554 4.4       19
14 -21.00 181.66   600 4.4       10
15 -20.70 169.92   139 6.1       94
16 -15.94 184.95   306 4.3       11
17 -13.64 165.96    50 6.0       83
18 -17.83 181.50   590 4.5       21
19 -23.50 179.78   570 4.4       13
20 -22.63 180.31   598 4.4       18
21 -20.84 181.16   576 4.5       17
22 -10.98 166.32   211 4.2       12
23 -23.30 180.16   512 4.4       18
24 -30.20 182.00   125 4.7       22
25 -19.66 180.28   431 5.4       57
26 -17.94 181.49   537 4.0       15
27 -14.72 167.51   155 4.6       18
28 -16.46 180.79   498 5.2       79
29 -20.97 181.47   582 4.5       25
30 -19.84 182.37   328 4.4       17
31 -22.58 179.24   553 4.6       21
32 -16.32 166.74    50 4.7       30
33 -15.55 185.05   292 4.8       42
34 -23.55 180.80   349 4.0       10
35 -16.30 186.00    48 4.5       10
36 -25.82 179.33   600 4.3       13
37 -18.73 169.23   206 4.5       17
38 -17.64 181.28   574 4.6       17
39 -17.66 181.40   585 4.1       17
40 -18.82 169.33   230 4.4       11
41 -37.37 176.78   263 4.7       34
42 -15.31 186.10    96 4.6       32
43 -24.97 179.82   511 4.4       23
44 -15.49 186.04    94 4.3       26
45 -19.23 169.41   246 4.6       27
46 -30.10 182.30    56 4.9       34
47 -26.40 181.70   329 4.5       24
48 -11.77 166.32    70 4.4       18
49 -24.12 180.08   493 4.3       21
50 -18.97 185.25   129 5.1       73

$quake_data$nrows
[1] 50

$quake_data$ncols
[1] 5</code></pre>
<p>There’s the whole thing, but we’ll take a minute to pick apart the elements of <code>datasummary_list</code>.</p>
<p>First, we named each of its elements:</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="working-with-data.html#cb110-1" aria-hidden="true"></a><span class="kw">names</span>(datasummary_list)</span></code></pre></div>
<pre><code>[1] &quot;irisdata&quot;        &quot;airquality_data&quot; &quot;quake_data&quot;     </code></pre>
<p>We can look at the first element, in which we stored a subset of the <code>iris</code> data:</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="working-with-data.html#cb112-1" aria-hidden="true"></a><span class="kw">names</span>(datasummary_list<span class="op">$</span>irisdata)</span></code></pre></div>
<pre><code>[1] &quot;data&quot;  &quot;nrows&quot; &quot;ncols&quot;</code></pre>
<p><span class="marginnote">Did we have to access this list directly? Have a look back at the list access table above.<span></p>
<p>If we wanted to see the <code>iris</code> data and the information we saved about it:</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="working-with-data.html#cb114-1" aria-hidden="true"></a>datasummary_list<span class="op">$</span>irisdata<span class="op">$</span>data</span></code></pre></div>
<pre><code>   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
1           5.1         3.5          1.4         0.2  setosa
2           4.9         3.0          1.4         0.2  setosa
3           4.7         3.2          1.3         0.2  setosa
4           4.6         3.1          1.5         0.2  setosa
5           5.0         3.6          1.4         0.2  setosa
6           5.4         3.9          1.7         0.4  setosa
7           4.6         3.4          1.4         0.3  setosa
8           5.0         3.4          1.5         0.2  setosa
9           4.4         2.9          1.4         0.2  setosa
10          4.9         3.1          1.5         0.1  setosa
11          5.4         3.7          1.5         0.2  setosa
12          4.8         3.4          1.6         0.2  setosa
13          4.8         3.0          1.4         0.1  setosa
14          4.3         3.0          1.1         0.1  setosa
15          5.8         4.0          1.2         0.2  setosa</code></pre>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="working-with-data.html#cb116-1" aria-hidden="true"></a>datasummary_list<span class="op">$</span>irisdata<span class="op">$</span>nrows</span></code></pre></div>
<pre><code>[1] 15</code></pre>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="working-with-data.html#cb118-1" aria-hidden="true"></a>datasummary_list<span class="op">$</span>irisdata<span class="op">$</span>ncols</span></code></pre></div>
<pre><code>[1] 5</code></pre>
<p>Note, too, that you can mix access methods, depending on your needs:</p>
<p><span class="marginnote">Which dataset are we accessing?</span></p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="working-with-data.html#cb120-1" aria-hidden="true"></a><span class="kw">head</span>(datasummary_list[[<span class="dv">3</span>]]<span class="op">$</span>data)</span></code></pre></div>
<pre><code>     lat   long depth mag stations
1 -20.42 181.62   562 4.8       41
2 -20.62 181.03   650 4.2       15
3 -26.00 184.10    42 5.4       43
4 -17.97 181.66   626 4.1       19
5 -20.42 181.96   649 4.0       11
6 -19.68 184.31   195 4.0       12</code></pre>
<p>We’ll see some lists later on in a few worked examples, as we’ve only scratched the surface. But even with what we’ve learned so far, hopefully your brain is starting to think about different ways me might use lists to store, manipulate, and analyze data. Data analysis and programming is in part an act of creativity!</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="working-with-data.html#cb122-1" aria-hidden="true"></a>s1 &lt;-<span class="st"> &quot;Okay&quot;</span></span>
<span id="cb122-2"><a href="working-with-data.html#cb122-2" aria-hidden="true"></a>s2 &lt;-<span class="st"> &quot;that&#39;s all about lists&quot;</span></span>
<span id="cb122-3"><a href="working-with-data.html#cb122-3" aria-hidden="true"></a>s3 &lt;-<span class="st"> &quot;for now!&quot;</span></span>
<span id="cb122-4"><a href="working-with-data.html#cb122-4" aria-hidden="true"></a></span>
<span id="cb122-5"><a href="working-with-data.html#cb122-5" aria-hidden="true"></a>totally_unnecessary_list &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">firstbit =</span> s1,</span>
<span id="cb122-6"><a href="working-with-data.html#cb122-6" aria-hidden="true"></a>                                 <span class="dt">secondbit =</span> <span class="kw">list</span>(s2, s3))</span>
<span id="cb122-7"><a href="working-with-data.html#cb122-7" aria-hidden="true"></a></span>
<span id="cb122-8"><a href="working-with-data.html#cb122-8" aria-hidden="true"></a><span class="kw">cat</span>(<span class="kw">paste0</span>(totally_unnecessary_list[[<span class="dv">1</span>]], <span class="st">&quot;,&quot;</span>),</span>
<span id="cb122-9"><a href="working-with-data.html#cb122-9" aria-hidden="true"></a>           totally_unnecessary_list[[<span class="dv">2</span>]][[<span class="dv">1</span>]],</span>
<span id="cb122-10"><a href="working-with-data.html#cb122-10" aria-hidden="true"></a>           totally_unnecessary_list[[<span class="dv">2</span>]][[<span class="dv">2</span>]], <span class="dt">sep =</span> <span class="st">&quot; &quot;</span>)</span></code></pre></div>
<pre><code>Okay, that&#39;s all about lists for now!</code></pre>
</div>
<div id="data-frames" class="section level3" number="5.2.4">
<h3><span class="header-section-number">5.2.4</span> Data Frames</h3>
<p>As public health researchers using R, you may be spending most of your time working with data frames.</p>
<p>Data frames are a <a href="https://www.oreilly.com/library/view/practical-statistics-for/9781491952955/ch01.html">rectangular data format</a>, that is, a format which generally stores data with a series of labeled columns (variables) and observations (rows).</p>
<p>We’ve already seen a couple of data frames. Here are a few more that R contains by default.</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="working-with-data.html#cb124-1" aria-hidden="true"></a><span class="kw">class</span>(chickwts)</span></code></pre></div>
<pre><code>[1] &quot;data.frame&quot;</code></pre>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="working-with-data.html#cb126-1" aria-hidden="true"></a><span class="kw">head</span>(chickwts)</span></code></pre></div>
<pre><code>  weight      feed
1    179 horsebean
2    160 horsebean
3    136 horsebean
4    227 horsebean
5    217 horsebean
6    168 horsebean</code></pre>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="working-with-data.html#cb128-1" aria-hidden="true"></a><span class="kw">class</span>(mtcars)</span></code></pre></div>
<pre><code>[1] &quot;data.frame&quot;</code></pre>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="working-with-data.html#cb130-1" aria-hidden="true"></a><span class="kw">head</span>(mtcars)</span></code></pre></div>
<pre><code>                   mpg cyl disp  hp drat    wt  qsec vs am gear carb
Mazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4
Mazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4
Datsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1
Hornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1
Hornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2
Valiant           18.1   6  225 105 2.76 3.460 20.22  1  0    3    1</code></pre>
<p>Data frames lend themselves well to common epidemiologic analyses, but first, we should get a feel for how they behave.</p>
<p>We’ve seen that <code>head(dataframe)</code> will return the first handful of rows in the data frame (as a data frame, it turns out).</p>
<p>We might also want to inspect some other properties of a dataset.</p>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="working-with-data.html#cb132-1" aria-hidden="true"></a><span class="kw">str</span>(mtcars)</span></code></pre></div>
<pre><code>&#39;data.frame&#39;:   32 obs. of  11 variables:
 $ mpg : num  21 21 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 ...
 $ cyl : num  6 6 4 6 8 6 8 4 4 6 ...
 $ disp: num  160 160 108 258 360 ...
 $ hp  : num  110 110 93 110 175 105 245 62 95 123 ...
 $ drat: num  3.9 3.9 3.85 3.08 3.15 2.76 3.21 3.69 3.92 3.92 ...
 $ wt  : num  2.62 2.88 2.32 3.21 3.44 ...
 $ qsec: num  16.5 17 18.6 19.4 17 ...
 $ vs  : num  0 0 1 1 0 1 0 1 1 1 ...
 $ am  : num  1 1 1 0 0 0 0 0 0 0 ...
 $ gear: num  4 4 4 3 3 3 3 4 4 4 ...
 $ carb: num  4 4 1 1 2 1 4 2 2 4 ...</code></pre>
<p>The <code>str()</code> function gives us a nice, concise report on the number of rows and variables, in addition to the value class of each variable.</p>
<p>Sometimes, we may want to query some of these attributes directly:</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="working-with-data.html#cb134-1" aria-hidden="true"></a><span class="kw">nrow</span>(mtcars)</span></code></pre></div>
<pre><code>[1] 32</code></pre>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="working-with-data.html#cb136-1" aria-hidden="true"></a><span class="kw">length</span>(mtcars)</span></code></pre></div>
<pre><code>[1] 11</code></pre>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb138-1"><a href="working-with-data.html#cb138-1" aria-hidden="true"></a><span class="kw">names</span>(mtcars)</span></code></pre></div>
<pre><code> [1] &quot;mpg&quot;  &quot;cyl&quot;  &quot;disp&quot; &quot;hp&quot;   &quot;drat&quot; &quot;wt&quot;   &quot;qsec&quot; &quot;vs&quot;   &quot;am&quot;   &quot;gear&quot;
[11] &quot;carb&quot;</code></pre>
<p>The outputs from <code>nrow()</code> and <code>length()</code> returned to us the number of rows and columns, respectively, while <code>names()</code> returned the column names for us.</p>
<p>We can extract columns from the dataset as vectors if we want to operate on them directly:</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="working-with-data.html#cb140-1" aria-hidden="true"></a><span class="kw">class</span>(mtcars<span class="op">$</span>qsec)</span></code></pre></div>
<pre><code>[1] &quot;numeric&quot;</code></pre>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="working-with-data.html#cb142-1" aria-hidden="true"></a><span class="kw">summary</span>(mtcars<span class="op">$</span>qsec)</span></code></pre></div>
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
  14.50   16.89   17.71   17.85   18.90   22.90 </code></pre>
<p>We could also summarize all the variables at the same time, simply by passing the data frame to <code>summary()</code>.</p>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb144-1"><a href="working-with-data.html#cb144-1" aria-hidden="true"></a><span class="kw">summary</span>(mtcars)</span></code></pre></div>
<pre><code>      mpg             cyl             disp             hp       
 Min.   :10.40   Min.   :4.000   Min.   : 71.1   Min.   : 52.0  
 1st Qu.:15.43   1st Qu.:4.000   1st Qu.:120.8   1st Qu.: 96.5  
 Median :19.20   Median :6.000   Median :196.3   Median :123.0  
 Mean   :20.09   Mean   :6.188   Mean   :230.7   Mean   :146.7  
 3rd Qu.:22.80   3rd Qu.:8.000   3rd Qu.:326.0   3rd Qu.:180.0  
 Max.   :33.90   Max.   :8.000   Max.   :472.0   Max.   :335.0  
      drat             wt             qsec             vs        
 Min.   :2.760   Min.   :1.513   Min.   :14.50   Min.   :0.0000  
 1st Qu.:3.080   1st Qu.:2.581   1st Qu.:16.89   1st Qu.:0.0000  
 Median :3.695   Median :3.325   Median :17.71   Median :0.0000  
 Mean   :3.597   Mean   :3.217   Mean   :17.85   Mean   :0.4375  
 3rd Qu.:3.920   3rd Qu.:3.610   3rd Qu.:18.90   3rd Qu.:1.0000  
 Max.   :4.930   Max.   :5.424   Max.   :22.90   Max.   :1.0000  
       am              gear            carb      
 Min.   :0.0000   Min.   :3.000   Min.   :1.000  
 1st Qu.:0.0000   1st Qu.:3.000   1st Qu.:2.000  
 Median :0.0000   Median :4.000   Median :2.000  
 Mean   :0.4062   Mean   :3.688   Mean   :2.812  
 3rd Qu.:1.0000   3rd Qu.:4.000   3rd Qu.:4.000  
 Max.   :1.0000   Max.   :5.000   Max.   :8.000  </code></pre>
<p>Look carefully at the output from our summary. Does anything look off?</p>
<p>I would say we should take a look at a few of the variables, which, despite having been stored as numeric, appear to be categorical variables.</p>
<p>Let’s check the number of unique values stored in each variable:</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb146-1"><a href="working-with-data.html#cb146-1" aria-hidden="true"></a><span class="kw">sapply</span>(mtcars, <span class="cf">function</span>(x) <span class="kw">length</span>(<span class="kw">unique</span>(x)))</span></code></pre></div>
<pre><code> mpg  cyl disp   hp drat   wt qsec   vs   am gear carb 
  25    3   27   22   22   29   30    2    2    3    6 </code></pre>
<p>It looks like we might want to treat <code>cyl</code>, <code>vs</code>, <code>am</code>, <code>gear</code>, and <code>carb</code> as categorical.</p>
<p><span class="marginnote">To view more information about the <code>mtcars</code> dataset, type <code>?mtcars</code> into the console.</span></p>
<p>Specifically, we’ll treat <code>cyl</code>, <code>gear</code>, and <code>carb</code> as ordinal, and we’ll treat <code>vs</code> and <code>am</code> as binary.</p>
<p><span class="marginnote">Remember, categorical variables assign an observation to a particular group. For example, if we had a column for the car’s manufacturer, we might have categories such as Chevy, Honda, or Ford. Ordinal variables are special cases of categorical variables in which the levels have some sort of natural ordering. For example, finishing place in a race: 1, 2, 3.</span></p>
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb148-1"><a href="working-with-data.html#cb148-1" aria-hidden="true"></a><span class="co"># create new variables in mtcars by converting the</span></span>
<span id="cb148-2"><a href="working-with-data.html#cb148-2" aria-hidden="true"></a><span class="co"># numeric ordinals into factors</span></span>
<span id="cb148-3"><a href="working-with-data.html#cb148-3" aria-hidden="true"></a>mtcars<span class="op">$</span>cyl_fct &lt;-<span class="st"> </span><span class="kw">as.factor</span>(mtcars<span class="op">$</span>cyl)</span>
<span id="cb148-4"><a href="working-with-data.html#cb148-4" aria-hidden="true"></a>mtcars<span class="op">$</span>gear_fct &lt;-<span class="st"> </span><span class="kw">as.factor</span>(mtcars<span class="op">$</span>gear)</span>
<span id="cb148-5"><a href="working-with-data.html#cb148-5" aria-hidden="true"></a>mtcars<span class="op">$</span>carb_fct &lt;-<span class="st"> </span><span class="kw">as.factor</span>(mtcars<span class="op">$</span>carb)</span>
<span id="cb148-6"><a href="working-with-data.html#cb148-6" aria-hidden="true"></a></span>
<span id="cb148-7"><a href="working-with-data.html#cb148-7" aria-hidden="true"></a>mtcars<span class="op">$</span>vs_fct &lt;-<span class="st"> </span><span class="kw">as.factor</span>(<span class="kw">ifelse</span>(mtcars<span class="op">$</span>vs <span class="op">==</span><span class="st"> </span><span class="dv">0</span>, <span class="st">&quot;v-shaped&quot;</span>, <span class="st">&quot;straight&quot;</span>))</span>
<span id="cb148-8"><a href="working-with-data.html#cb148-8" aria-hidden="true"></a>mtcars<span class="op">$</span>am_fct &lt;-<span class="st"> </span><span class="kw">as.factor</span>(<span class="kw">ifelse</span>(mtcars<span class="op">$</span>am <span class="op">==</span><span class="st"> </span><span class="dv">0</span>, <span class="st">&quot;automatic&quot;</span>, <span class="st">&quot;manual&quot;</span>))</span>
<span id="cb148-9"><a href="working-with-data.html#cb148-9" aria-hidden="true"></a></span>
<span id="cb148-10"><a href="working-with-data.html#cb148-10" aria-hidden="true"></a><span class="kw">str</span>(mtcars)</span></code></pre></div>
<pre><code>&#39;data.frame&#39;:   32 obs. of  16 variables:
 $ mpg     : num  21 21 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 ...
 $ cyl     : num  6 6 4 6 8 6 8 4 4 6 ...
 $ disp    : num  160 160 108 258 360 ...
 $ hp      : num  110 110 93 110 175 105 245 62 95 123 ...
 $ drat    : num  3.9 3.9 3.85 3.08 3.15 2.76 3.21 3.69 3.92 3.92 ...
 $ wt      : num  2.62 2.88 2.32 3.21 3.44 ...
 $ qsec    : num  16.5 17 18.6 19.4 17 ...
 $ vs      : num  0 0 1 1 0 1 0 1 1 1 ...
 $ am      : num  1 1 1 0 0 0 0 0 0 0 ...
 $ gear    : num  4 4 4 3 3 3 3 4 4 4 ...
 $ carb    : num  4 4 1 1 2 1 4 2 2 4 ...
 $ cyl_fct : Factor w/ 3 levels &quot;4&quot;,&quot;6&quot;,&quot;8&quot;: 2 2 1 2 3 2 3 1 1 2 ...
 $ gear_fct: Factor w/ 3 levels &quot;3&quot;,&quot;4&quot;,&quot;5&quot;: 2 2 2 1 1 1 1 2 2 2 ...
 $ carb_fct: Factor w/ 6 levels &quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,..: 4 4 1 1 2 1 4 2 2 4 ...
 $ vs_fct  : Factor w/ 2 levels &quot;straight&quot;,&quot;v-shaped&quot;: 2 2 1 1 2 1 2 1 1 1 ...
 $ am_fct  : Factor w/ 2 levels &quot;automatic&quot;,&quot;manual&quot;: 2 2 2 1 1 1 1 1 1 1 ...</code></pre>
<p>Take a minute to look at the output of <code>str()</code>. We have 5 new factor variables.</p>
<p>Technically, we could have analyzed the variables without converting them, but let’s summarize the new ones anyhow.</p>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb150-1"><a href="working-with-data.html#cb150-1" aria-hidden="true"></a><span class="co"># we index mtcars so as to inspect only the variables we just created</span></span>
<span id="cb150-2"><a href="working-with-data.html#cb150-2" aria-hidden="true"></a><span class="kw">summary</span>(mtcars[, <span class="dv">12</span><span class="op">:</span><span class="dv">16</span>])</span></code></pre></div>
<pre><code> cyl_fct gear_fct carb_fct      vs_fct         am_fct  
 4:11    3:15     1: 7     straight:14   automatic:19  
 6: 7    4:12     2:10     v-shaped:18   manual   :13  
 8:14    5: 5     3: 3                                 
                  4:10                                 
                  6: 1                                 
                  8: 1                                 </code></pre>
<p>Not the prettiest summary, but note how R gives us the number of observations within each category for each factor. We’ll look at more readable ways to summarize factors in a future section.</p>
</div>
<div id="other-object-classes" class="section level3" number="5.2.5">
<h3><span class="header-section-number">5.2.5</span> Other Object Classes</h3>
<p>Various subfields of epidemiology and statistics provide an array of object classes that are beyond the scope of this tutorial. For instance, an object with the class “graph” describes the components and structures of a <a href="http://mathworld.wolfram.com/Graph.html">graph</a>. The information stored in this object would typically allow one to manipulate, analyze, and visualize the graph.</p>
</div>
</div>
<div id="conducting-operations-on-objects" class="section level2" number="5.3">
<h2><span class="header-section-number">5.3</span> Conducting Operations on Objects</h2>
<div id="arithmetic-operations" class="section level3" number="5.3.1">
<h3><span class="header-section-number">5.3.1</span> Arithmetic Operations</h3>
<p>It may come as no surprise that you’ll be doing a fair bit of arithmetic while coding, whether you’re doing quick calculations in the console or creating variables derived from some arithmetic combination of other variables.</p>
<p>R respects grouping operations and handles mathematical operations as one might expect.</p>
<p>For instance, we can do some quick scratch calculations and print them directly to the console.</p>
<p><span class="marginnote">In fact, R can be a handy calculator if you run it from the command line!</span></p>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="working-with-data.html#cb152-1" aria-hidden="true"></a><span class="dv">5</span> <span class="op">+</span><span class="st"> </span><span class="dv">10</span></span></code></pre></div>
<pre><code>[1] 15</code></pre>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb154-1"><a href="working-with-data.html#cb154-1" aria-hidden="true"></a><span class="fl">0.25</span> <span class="op">*</span><span class="st"> </span><span class="dv">9</span> <span class="op">+</span><span class="st"> </span><span class="fl">0.75</span> <span class="op">*</span><span class="st"> </span><span class="dv">3</span></span></code></pre></div>
<pre><code>[1] 4.5</code></pre>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb156-1"><a href="working-with-data.html#cb156-1" aria-hidden="true"></a>(<span class="dv">5</span> <span class="op">^</span><span class="st"> </span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span><span class="dv">10</span> <span class="op">^</span><span class="st"> </span><span class="dv">3</span>) <span class="op">/</span><span class="st"> </span><span class="dv">50</span></span></code></pre></div>
<pre><code>[1] 20.5</code></pre>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="working-with-data.html#cb158-1" aria-hidden="true"></a><span class="dv">8</span> <span class="op">%%</span><span class="st"> </span><span class="dv">3</span></span></code></pre></div>
<pre><code>[1] 2</code></pre>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb160-1"><a href="working-with-data.html#cb160-1" aria-hidden="true"></a><span class="dv">8</span> <span class="op">%/%</span><span class="st"> </span><span class="dv">3</span></span></code></pre></div>
<pre><code>[1] 2</code></pre>
<p><!--
<caption>--><span class="marginnote shownote"><span id="tab:arithmetic-operators">Table 5.2: </span>Arithmetic operators</span><!--</caption>--></p>
<table>
<thead>
<tr class="header">
<th align="left">Operator</th>
<th align="left">Function</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">+</td>
<td align="left">Add</td>
</tr>
<tr class="even">
<td align="left">-</td>
<td align="left">Subtract</td>
</tr>
<tr class="odd">
<td align="left">^</td>
<td align="left">Power</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">Multiply</td>
</tr>
<tr class="odd">
<td align="left">/</td>
<td align="left">Divide</td>
</tr>
<tr class="even">
<td align="left">%%</td>
<td align="left">Modulus (remainder)</td>
</tr>
<tr class="odd">
<td align="left">%/%</td>
<td align="left">Modulus (remainder)</td>
</tr>
<tr class="even">
<td align="left">%*%</td>
<td align="left">Matrix multiplication</td>
</tr>
</tbody>
</table>
<p>For more information, refer to <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/Arithmetic.html">R’s documentation on arithmetic operators</a>.</p>
</div>
<div id="logical-operations" class="section level3" number="5.3.2">
<h3><span class="header-section-number">5.3.2</span> Logical Operations</h3>
<p>We already saw one example of a logical operation, when we checked to see if <code>x1</code> was equal to 10. Statistical and epidemiologic analysis relies heavily on implementing logical operations and checks for truth, and so it is a good idea to master these operators early—and to use them often.</p>
<p><!--
<caption>--><span class="marginnote shownote"><span id="tab:logical-operators">Table 5.3: </span>Logical operators</span><!--</caption>--></p>
<table>
<thead>
<tr class="header">
<th align="left">Operator</th>
<th align="left">Function</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">==</td>
<td align="left">Check equality of two values</td>
</tr>
<tr class="even">
<td align="left">&lt;</td>
<td align="left">Less than</td>
</tr>
<tr class="odd">
<td align="left">&lt;=</td>
<td align="left">Less than or equal to</td>
</tr>
<tr class="even">
<td align="left">&gt;</td>
<td align="left">Greater than</td>
</tr>
<tr class="odd">
<td align="left">&gt;=</td>
<td align="left">Greater than or equal to</td>
</tr>
<tr class="even">
<td align="left">&amp; (or &amp;&amp;)</td>
<td align="left">AND</td>
</tr>
<tr class="odd">
<td align="left">| (or ||)</td>
<td align="left">OR</td>
</tr>
</tbody>
</table>
<p>When combining various operators, some will take <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/Syntax.html">precedence</a> over others, and it’s important to get a feel for this hierarchy to avoid unexpected results while programming.</p>
</div>
<div id="recycling" class="section level3" number="5.3.3">
<h3><span class="header-section-number">5.3.3</span> Recycling</h3>
<p>In short, <strong>recycling</strong> refers to the reuse of an input object (or objects) to produce an output.</p>
<p>Recycling is a <em>very</em> important concept in R. First, recycling can make your code more efficient. Second, if you forget that R recycles, you might unwittingly perform an operation that spits out a bunch of wrong answers.</p>
<p>That’s a pretty abstract description, so let’s look at a few examples to develop our intuition a bit.</p>
<p>First, recall the operators we covered in the the prior two sections, as well as vectors.</p>
<p>Say we wanted to add 5 to each of 3 numbers. Rather than specifying the arithmetic operation separately for each number, we could store those numbers to a vector and tell R to add 5 to the vector:</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb162-1"><a href="working-with-data.html#cb162-1" aria-hidden="true"></a>numvec &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">10</span>, <span class="dv">40</span>, <span class="dv">50</span>)</span>
<span id="cb162-2"><a href="working-with-data.html#cb162-2" aria-hidden="true"></a>numvec <span class="op">+</span><span class="st"> </span><span class="dv">5</span></span></code></pre></div>
<pre><code>[1] 15 45 55</code></pre>
<p>See what happened? R added 5 to each vector element separately.</p>
<p>If we wanted to perform separate additions on each number, we could do so easily, <a href="https://www.oreilly.com/library/view/the-art-of/9781593273842/ch02s03.html">as long as the longer vector’s length is a multiple of the shorter vector’s length</a>:</p>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb164-1"><a href="working-with-data.html#cb164-1" aria-hidden="true"></a>numvec <span class="op">+</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">90</span>)</span></code></pre></div>
<pre><code>[1]  15  50 140</code></pre>
<p>Did you notice the difference, though? Because the vector lengths were equal, R <em>did not</em> recycle 5, 10, and 90 to add each to each item in <code>numvec</code>. Rather, it added 5 to <code>numvec[1]</code>, 10 to <code>numvec[2]</code>, and 90 to <code>numvec[3]</code></p>
<p>However, attempting to execute the following operation results in a warning, because 3 cannot be divided evenly by 2:</p>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb166-1"><a href="working-with-data.html#cb166-1" aria-hidden="true"></a>numvec <span class="op">+</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">5</span>, <span class="dv">10</span>)</span></code></pre></div>
<pre><code>Warning in numvec + c(5, 10): longer object length is not a multiple of shorter
object length</code></pre>
<pre><code>[1] 15 50 55</code></pre>
<p>Notice, however, that the second, unnamed vector <em>was</em> recycled in this case. Looking at the output, we can see that R executed the following operations: 5 + 5, 40 + 10, and 50 + 5. In other words, R recycled the shorter vector until it was finished operating on <code>numvec</code>.</p>
<p>You might imagine this result was not really what we were looking for if we wanted R to add 5 to each element in <code>numvec</code> and then add 10 to each element in <code>numvec</code> and return the results for both sets of operations.</p>
<p>When we get to <strong>for loops</strong> and <strong>functions</strong>, we’ll see how we can get R to do these sorts of tasks for us.</p>

</div>
</div>
</div>
<p style="text-align: center;">
<a href="importing-and-exporting-data.html"><button class="btn btn-default">Previous</button></a>
<a href="statistical-analysis.html"><button class="btn btn-default">Next</button></a>
</p>
</div>
</div>



</body>
</html>
